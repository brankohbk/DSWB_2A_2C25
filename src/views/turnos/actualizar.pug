extends ../layout
block content
    h1 Editar turno
    form(data-ajax data-redirect='/turnos' method='post', action=`/api/turnos/${turno.id}?_method=PUT`)
        label Paciente
            select(name='pacienteId', required)
                each p in pacientes
                    option( value=p._id, selected=p._id.toString() == turno.pacienteId.toString() )= `${p.nombre} ${p.apellido} - DNI: ${p.dni}`
        label Empleado
            select(name='empleadoId', required)
                    each e in empleados
                        option( value=e._id, selected=e._id.toString() == turno.empleadoId.toString() )= `${e.nombre} - ${e.id}`
        label Inicio
            input(type='datetime-local', name='fechaInicio', required, value=turno.fechaInicio)
        label Fin
            input(type='datetime-local', name='fechaFin', required, value=turno.fechaFin)
        label Prioridad
            select(name='prioridad')
                option(value='alta', selected=turno.prioridad==='alta') alta
                option(value='media', selected=turno.prioridad==='media') media
                option(value='baja', selected=turno.prioridad==='baja') baja
        label Estado
            select(name='estado')
                option(value='pendiente', selected=turno.estado==='pendiente') pendiente
                option(value='en proceso', selected=turno.estado==='en proceso') en proceso
                option(value='finalizado', selected=turno.estado==='finalizado') finalizado
        label Observaciones
            input(type='text', name='observaciones', value=turno.observaciones)
        a(href='/turnos', class="btn btn-red") ❌ Cancelar
        button(type='submit', class="btn btn-green") ✅ Guardar cambios